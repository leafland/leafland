async function getProductImages(){let e=window.location.pathname;e=e.slice(0,e.length-1),e=e.split(/\/trees\//)[1],productImageData=await fetch(`https://api.leafland.co.nz/default/get-single-product-images?prefix=${e}`).then(e=>e.json()).then(e=>e).catch(e=>{});for(let a=0;a<productImageData.length;a++)-1!==productImageData[a].Key.search("grades")&&(gradeImages.push(productImageData[a].Key),productImageData.splice(a,1),a--),productImageData[a].Key.split("/",3)[2]!==e?(productImageData.splice(a,1),a--):-1===productImageData[a].Key.search("jpg")&&-1===productImageData[a].Key.search("jpeg")&&(productImageData.splice(a,1),a--)}async function getProductTreeData(){let e=window.location.pathname;e=e.slice(0,e.length-1),e=e.split(/\/trees\//)[1],productTreeData=await fetch(`https://api.leafland.co.nz/default/get-product-data?type=product&url=${e}`).then(e=>e.json()).then(e=>e).catch(e=>{})}async function getProductStockData(){productStockData=await fetch("https://api.leafland.co.nz/default/get-stock-data-file").then(e=>e.json()).then(e=>e).catch(e=>{});for(let e=0;e<productStockData.length;e++)"serrula interstem"===treeCommonName.textContent.toLowerCase()?`${treeBotanicalName.textContent} serrula interstem`.replace(/'/g,"").replace(/"/g,"").replace(/ var. /g," ").replace(/ x /g," ").replace(/\(/g,"").replace(/\)/g,"").toLowerCase().trim()!==productStockData[e][0].replace(/'/g,"").replace(/"/g,"").replace(/ var. /g," ").replace(/ x /g," ").replace(/\(/g,"").replace(/\)/g,"").toLowerCase().trim()&&(productStockData.splice(e,1),e--):treeBotanicalName.textContent.replace(/'/g,"").replace(/"/g,"").replace(/ var. /g," ").replace(/ x /g," ").toLowerCase().trim()!==productStockData[e][0].replace(/'/g,"").replace(/"/g,"").replace(/ var. /g," ").replace(/ x /g," ").toLowerCase().trim()&&(productStockData.splice(e,1),e--)}async function createTreeImages(e){imagePosition=e.length-1,imageLightBoxClose.addEventListener("click",()=>{document.body.classList.remove("lightbox-open")});for(let a=e.length-1;a>=0;a--)if(!e[a].Key.includes("grades")&&(-1!==e[a].Key.search("jpg")||-1!==e[a].Key.search("jpeg"))){let t=document.createElement("img");t.src=`https://ik.imagekit.io/leafland/${e[a].Key}?tr=w-150,q-75,pr-true,f-auto`,t.width="150",t.height="150",t.alt=e[a].Key.substring(e[a].Key.lastIndexOf("/")+1,e[a].Key.lastIndexOf(".")).replace(/-/g," "),t.loading="lazy";let s=document.createElement("div");s.classList.add("image"),images.appendChild(s),s.appendChild(t);let r=document.createElement("img");r.onload=(()=>{r.style.setProperty("opacity","1")}),r.src=`https://ik.imagekit.io/leafland/${e[a].Key}?tr=w-1000,q-75,pr-true,f-auto`,r.height="1000",r.width="1000",r.alt=e[a].Key.substring(e[a].Key.lastIndexOf("/")+1,e[a].Key.lastIndexOf(".")).replace(/-/g," "),r.loading="lazy",r.classList.add("main-img"),r.addEventListener("click",()=>{imageLightboxInner.innerHTML=`<img src='https://ik.imagekit.io/leafland/${e[a].Key}?tr=w-1000,q-75,pr-true,f-auto'>`,document.body.classList.add("lightbox-open")}),a===e.length-1&&(mainImage.appendChild(r),r.style.setProperty("opacity","1"),r.loading="eager"),t.addEventListener("click",e=>{let s=document.querySelector(".main-img");imagePosition=a,e.preventDefault(),s.alt!==t.alt&&(mainImage.style.setProperty("opacity","0"),mainImage.style.setProperty("visibility","hidden"),setTimeout(()=>{mainImage.innerHTML="",mainImage.appendChild(r),mainImage.style.setProperty("opacity","1"),mainImage.style.setProperty("visibility","visible")},500))})}imageLeftButton.addEventListener("click",()=>{e[imagePosition].Key.includes("grades")||-1===e[imagePosition].Key.search("jpg")&&-1===e[imagePosition].Key.search("jpeg")?imagePosition+=2:imagePosition++,imagePosition>e.length-1&&(imagePosition=0);let a=document.createElement("img");a.onload=(()=>{a.style.setProperty("opacity","1")}),a.src=`https://ik.imagekit.io/leafland/${e[imagePosition].Key}?tr=w-1000,q-75,pr-true,f-auto`,a.height="1000",a.width="1000",a.alt=e[imagePosition].Key.substring(e[imagePosition].Key.lastIndexOf("/")+1,e[imagePosition].Key.lastIndexOf(".")).replace(/-/g," "),a.loading="lazy",a.classList.add("main-img"),a.addEventListener("click",()=>{imageLightboxInner.innerHTML=`<img src='https://ik.imagekit.io/leafland/${e[imagePosition].Key}?tr=w-1000,q-75,pr-true,f-auto'>`,document.body.classList.add("lightbox-open")}),mainImage.style.setProperty("opacity","0"),mainImage.style.setProperty("visibility","hidden"),setTimeout(()=>{mainImage.innerHTML="",mainImage.appendChild(a),mainImage.style.setProperty("opacity","1"),mainImage.style.setProperty("visibility","visible")},500)}),imageRightButton.addEventListener("click",()=>{e[imagePosition].Key.includes("grades")||-1===e[imagePosition].Key.search("jpg")&&-1===e[imagePosition].Key.search("jpeg")?imagePosition-=2:imagePosition--,imagePosition<0&&(imagePosition=e.length-1);let a=document.createElement("img");a.onload=(()=>{a.style.setProperty("opacity","1")}),a.src=`https://ik.imagekit.io/leafland/${e[imagePosition].Key}?tr=w-1000,q-75,pr-true,f-auto`,a.height="1000",a.width="1000",a.alt=e[imagePosition].Key.substring(e[imagePosition].Key.lastIndexOf("/")+1,e[imagePosition].Key.lastIndexOf(".")).replace(/-/g," "),a.loading="lazy",a.classList.add("main-img"),a.addEventListener("click",()=>{imageLightboxInner.innerHTML=`<img src='https://ik.imagekit.io/leafland/${e[imagePosition].Key}?tr=w-1000,q-75,pr-true,f-auto'>`,document.body.classList.add("lightbox-open")}),mainImage.style.setProperty("opacity","0"),mainImage.style.setProperty("visibility","hidden"),setTimeout(()=>{mainImage.innerHTML="",mainImage.appendChild(a),mainImage.style.setProperty("opacity","1"),mainImage.style.setProperty("visibility","visible")},500)})}async function createStockValues(){if(0!==productStockData.length){for(let e=0;e<productStockData.length;e++)if(0===grades.length)grades.push({grade:productStockData[e][2],heights:[{averageHeight:""===productStockData[e][6]?"N/A":productStockData[e][6],standardHeights:[{quantity:parseInt(productStockData[e][8],10),standardHeight:productStockData[e][7],retailPrice:productStockData[e][3].replace(/,/g,""),wholesalePrice:productStockData[e][5].replace(/,/g,"")}]}],comingOn:parseInt(productStockData[e][9])});else for(let a=0;a<grades.length+1;a++){if(a===grades.length){grades.push({grade:productStockData[e][2],heights:[{averageHeight:""===productStockData[e][6]?"N/A":productStockData[e][6],standardHeights:[{quantity:parseInt(productStockData[e][8],10),standardHeight:productStockData[e][7],retailPrice:productStockData[e][3].replace(/,/g,""),wholesalePrice:productStockData[e][5].replace(/,/g,"")}]}],comingOn:parseInt(productStockData[e][9])});break}if(grades[a].grade.toLowerCase()===productStockData[e][2].toLowerCase()){grades[a].comingOn+=parseInt(productStockData[e][9]);for(let t=0;t<grades[a].heights.length+1;t++){if(t===grades[a].heights.length){grades[a].heights.push({averageHeight:""===productStockData[e][6]?"N/A":productStockData[e][6],standardHeights:[{quantity:parseInt(productStockData[e][8],10),standardHeight:productStockData[e][7],retailPrice:productStockData[e][3].replace(/,/g,""),wholesalePrice:productStockData[e][5].replace(/,/g,"")}]});break}if(grades[a].heights[t].averageHeight===productStockData[e][6]||"N/A"===grades[a].heights[t].averageHeight&&""===productStockData[e][6]){for(let s=0;s<grades[a].heights[t].standardHeights.length+1;s++){if(s===grades[a].heights[t].standardHeights.length){grades[a].heights[t].standardHeights.push({quantity:parseInt(productStockData[e][8],10),standardHeight:productStockData[e][7],retailPrice:productStockData[e][3].replace(/,/g,""),wholesalePrice:productStockData[e][5].replace(/,/g,"")});break}if(grades[a].heights[t].standardHeights[s].standardHeight===productStockData[e][7]){grades[a].heights[t].standardHeights[s].quantity=parseInt(grades[a].heights[t].standardHeights[s].quantity,10),grades[a].heights[t].standardHeights[s].quantity+=parseInt(productStockData[e][8],10);break}}break}}break}}grades.forEach(e=>{let a=document.createElement("option");a.value=e.grade,a.textContent=e.grade,gradeSizeSelect.appendChild(a),0!==parseInt(e.comingOn)&&(17===comingOn.textContent.length?comingOn.innerHTML+=` ${e.grade} (<span class="accent-color">${e.comingOn}</span>)`:comingOn.innerHTML+=`, ${e.grade} (<span class="accent-color">${e.comingOn}</span>)`)}),17===comingOn.textContent.length&&(comingOn.innerHTML+=' <span class="accent-color">none</span>');let e=0;grades[0].heights.forEach(a=>{let t=document.createElement("option");""!==a.averageHeight?(t.value=a.averageHeight,t.textContent=`${"n/a"===a.averageHeight.toLowerCase()?a.averageHeight:a.averageHeight+"m"}`):(t.value="N/A",t.textContent="N/A"),heightSelect.appendChild(t),grades[0].heights[0].standardHeights.forEach(a=>{let t=document.createElement("option");""!==a.standardHeight.trim()&&"bushy"!==a.standardHeight.toLowerCase().trim()&&"l/w"!==a.standardHeight.toLowerCase().trim()&&"lw"!==a.standardHeight.toLowerCase().trim()&&"ct"!==a.standardHeight.toLowerCase().trim()?(t.value=`${a.standardHeight}?q=${a.quantity}`,null!==a.standardHeight.match(/\d+/g)?t.textContent=a.standardHeight+"m":t.textContent=a.standardHeight,standardHeightSelect.appendChild(t)):"column"!==a.standardHeight.toLowerCase().trim()&&(e+=a.quantity)})});let a=document.createElement("option");a.value=`None?q=${e}`,a.textContent="None",standardHeightSelect.appendChild(a);let t=document.createElement("p");t.innerHTML=`<span class="stock-value-title">Quantity in stock:</span> <span class="quantity accent-color">${grades[0].heights[0].standardHeights[0].quantity}</span>`;let s=document.createElement("p");s.innerHTML=`<span class="stock-value-title">Price per tree:</span> <span id="wholesale-price" class="accent-color">${grades[0].heights[0].standardHeights[0].wholesalePrice}.00+GST (Wholesale)</span> <span id="retail-price" class="accent-color">${grades[0].heights[0].standardHeights[0].retailPrice}.00+GST (Retail)</span>`,stockValuesDiv.appendChild(t),stockValuesDiv.appendChild(s),0===grades[0].heights[0].standardHeights[0].quantity?(addToOrderButton.disabled=!0,treeQuantity.disabled=!0,treeQuantity.value=1):(addToOrderButton.disabled=!1,treeQuantity.disabled=!1,treeQuantity.max=grades[0].heights[0].standardHeights[0].quantity,treeQuantity.onchange=function(){this.value<1?this.value=1:this.value>grades[0].heights[0].standardHeights[0].quantity&&(this.value=grades[0].heights[0].standardHeights[0].quantity)})}else{gradeSizesDiv.innerHTML="";let e=document.createElement("h2");e.textContent="Currently out of stock.",gradeSizesDiv.appendChild(e),gradeSizesDiv.style.setProperty("grid-template-columns","1fr"),gradeSizesDiv.style.setProperty("margin-top","0"),document.querySelector("#grade-sizes-heading").style.setProperty("display","none"),document.querySelector("#stock-information").style.setProperty("display","none"),document.querySelector("#success-message").style.setProperty("display","none"),stockValuesDiv.style.setProperty("display","none"),document.querySelector(".product-disclaimer").style.setProperty("display","none"),document.querySelector("#coming-on").style.setProperty("display","none")}}function checkColors(e,a){switch(e){case"blue":a.classList.add("blue");break;case"grey":a.classList.add("grey");break;case"red":a.classList.add("red");break;case"orange":a.classList.add("orange");break;case"yellow":a.classList.add("yellow");break;case"purple":a.classList.add("purple");break;case"pink":a.classList.add("pink");break;case"green":a.classList.add("green");break;case"white":a.classList.add("white");break;case"brown":a.classList.add("brown")}}function createFoliageAttributes(e){if(0!==e[0].foliageColor.length){let a=document.createElement("div");a.classList.add("color-div");let t=document.createElement("p");t.textContent="Foliage Colour";let s=document.createElement("div");s.classList.add("color-spans"),e[0].foliageColor.split(", ").forEach(e=>{let a=document.createElement("span");a.classList.add("tree-color"),checkColors(e,a),s.appendChild(a)}),a.appendChild(t),a.appendChild(s),colorSection.appendChild(a)}if(0!==e[0].autumnColor.length){let a=document.createElement("div");a.classList.add("color-div");let t=document.createElement("p");t.textContent="Autumn Colour";let s=document.createElement("div");s.classList.add("color-spans"),e[0].autumnColor.split(", ").forEach(e=>{let a=document.createElement("span");a.classList.add("tree-color"),checkColors(e,a),s.appendChild(a)}),a.appendChild(t),a.appendChild(s),colorSection.appendChild(a)}}function createFlowerAttributes(e){if(0!==e[0].flowerColor.length){let a=document.createElement("div");a.classList.add("color-div");let t=document.createElement("p");t.textContent="Flower Colour";let s=document.createElement("div");s.classList.add("color-spans"),e[0].flowerColor.split(", ").forEach(e=>{let a=document.createElement("span");a.classList.add("tree-color"),checkColors(e,a),s.appendChild(a)}),a.appendChild(t),a.appendChild(s),colorSection.appendChild(a)}}function createFruitAttributes(e){let a=document.createElement("h2");a.textContent="Fruit";let t=document.createElement("div");if(t.id="tree-fruit",t.classList.add("attribute-grid"),0!==e[0].fruitingSeason.length){let s=document.createElement("div");s.classList.add("attribute-sub-grid");let r=document.createElement("p");r.classList.add("attribute-sub-grid-heading"),r.textContent="Fruiting Season";let i=document.createElement("p"),n=e[0].fruitingSeason.split(", ");n.forEach(e=>{n.indexOf(e)===n.length-1?i.textContent+=e.toLowerCase().replace(/\w/,e=>e.toUpperCase()):i.textContent+=e.toLowerCase().replace(/\w/,e=>e.toUpperCase())+", "}),s.appendChild(r),s.appendChild(i),t.appendChild(s),treeAttributes.contains(a)||treeAttributes.appendChild(a),treeAttributes.contains(t)||treeAttributes.appendChild(t)}}function createUsesAttributes(e){let a=document.createElement("h2");a.textContent="Uses";let t=document.createElement("div");t.id="tree-uses",t.classList.add("attribute-grid"),0!==e[0].uses.length&&(e[0].uses.split(", ").forEach(e=>{let a=document.createElement("div");a.classList.add("attribute-sub-grid");let s=document.createElement("p");s.classList.add("attribute-sub-grid-heading");let r=document.createElement("span");switch(r.classList.add("tree-icon"),e){case"attracts-birds":r.classList.add("attracts-birds"),s.textContent="Attracts Birds";break;case"attracts-bees":r.classList.add("attracts-bees"),s.textContent="Attracts Bees";break;case"driveways-avenues":r.classList.add("avenue"),s.textContent="Driveways/Avenues";break;case"hedging-screening":r.classList.add("hedge"),s.textContent="Hedging/Screening";break;case"paddocks-shade":r.classList.add("paddock"),s.textContent="Paddocks/Shade";break;case"pleaching":r.classList.add("pleaching"),s.textContent="Pleaching";break;case"small-garden":r.classList.add("garden"),s.textContent="Small Gardens";break;case"street":r.classList.add("street"),s.textContent="Street";break;case"topiary":r.classList.add("topiary"),s.textContent="Topiary";break;case"narrow-spaces":r.classList.add("narrow-spaces"),s.textContent="Narrow Spaces"}a.appendChild(r),a.appendChild(s),t.appendChild(a)}),treeAttributes.contains(a)||treeAttributes.appendChild(a),treeAttributes.contains(t)||treeAttributes.appendChild(t))}function createTypesAttributes(e){let a=document.createElement("h2");a.textContent="Types";let t=document.createElement("div");t.id="tree-types",t.classList.add("attribute-grid"),0!==e[0].types.length&&(e[0].types.split(", ").forEach(e=>{let a=document.createElement("div");a.classList.add("attribute-sub-grid");let s=document.createElement("p");s.classList.add("attribute-sub-grid-heading");let r=document.createElement("span");switch(r.classList.add("tree-icon"),e){case"conifer":r.classList.add("conifer"),s.textContent="Conifer";break;case"edible":r.classList.add("edible"),s.textContent="Edible";break;case"weeping":r.classList.add("weeping"),s.textContent="Weeping"}a.appendChild(r),a.appendChild(s),t.appendChild(a)}),treeAttributes.contains(a)||treeAttributes.appendChild(a),treeAttributes.contains(t)||treeAttributes.appendChild(t))}function createToleratesAttributes(e){0!==e[0].tolerates.length&&e[0].tolerates.split(", ").forEach(e=>{let a=document.createElement("div");a.classList.add("icon-div");let t=document.createElement("img");t.classList.add("tree-icon");let s=document.createElement("span");switch(s.classList.add("tooltip"),e){case"clay":t.src="https://files.leafland.co.nz/images/icons/tree-attributes/clay.svg",t.classList.add("clay"),s.classList.add("clay-tooltip"),s.textContent="Tolerates clay soils";break;case"dry":t.src="https://files.leafland.co.nz/images/icons/tree-attributes/dry.svg",t.classList.add("dry"),s.classList.add("dry-tooltip"),s.textContent="Tolerates dry sites";break;case"wet":t.src="https://files.leafland.co.nz/images/icons/tree-attributes/wet.svg",t.classList.add("wet"),s.classList.add("wet-tooltip"),s.textContent="Tolerates wet sites";break;case"windy":t.src="https://files.leafland.co.nz/images/icons/tree-attributes/windy.svg",t.classList.add("windy"),s.classList.add("windy-tooltip"),s.textContent="Tolerates windy sites"}a.appendChild(t),a.appendChild(s),treeAttributes.appendChild(a)})}function createOtherAttributes(e){let a=document.createElement("h2");a.textContent="Other";let t=document.createElement("div");if(t.id="tree-other",t.classList.add("attribute-grid"),0!==e[0].origin.length){let s=document.createElement("div");s.classList.add("attribute-sub-grid");let r=document.createElement("p");r.textContent="Origin",r.classList.add("attribute-sub-grid-heading");let i=document.createElement("p"),n=document.createElement("span");switch(n.classList.add("tree-icon"),e[0].origin){case"exotic":i.textContent="Exotic",n.classList.add("exotic");break;case"native":i.textContent="Native",n.classList.add("native")}s.appendChild(n),s.appendChild(r),s.appendChild(i),t.appendChild(s),treeAttributes.contains(a)||treeAttributes.appendChild(a),treeAttributes.contains(t)||treeAttributes.appendChild(t)}}function createTreeShape(e){let a=document.querySelector("#tree-shape"),t=document.createElement("img");switch(t.id="tree-shape-image",e[0].treeShape){case"abies-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/abies/abies-general.svg";break;case"acacia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acacia/acacia-general.svg";break;case"acacia-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acacia/acacia-weeping.svg";break;case"acacia-large":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acacia/acacia-large.svg";break;case"acer-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer/acer-general.svg";break;case"acer-large":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer/acer-large.svg";break;case"acer-negundo-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-negundo/acer-negundo-general.svg";break;case"acer-pseudoplatanus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-pseudoplatanus/acer-pseudoplatanus-general.svg";break;case"acer-palmatum-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-palmatum/acer-palmatum-general.svg";break;case"acer-palmatum-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-palmatum/acer-palmatum-weeping.svg";break;case"acer-palmatum-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-palmatum/acer-palmatum-upright.svg";break;case"acer-platanoides-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-platanoides/acer-platanoides-general.svg";break;case"acer-platanoides-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-platanoides/acer-platanoides-upright.svg";break;case"acer-platanoides-topiary":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-platanoides/acer-platanoides-topiary.svg";break;case"acer-rubrum-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-rubrum/acer-rubrum-general.svg";break;case"acer-rubrum-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/acer-rubrum/acer-rubrum-upright.svg";break;case"aesculus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/aesculus/aesculus-general.svg";break;case"afrocarpus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/afrocarpus/afrocarpus-general.svg";break;case"agathis-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/agathis/agathis-general.svg";break;case"agonis-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/agonis/agonis-general.svg";break;case"albizia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/albizia/albizia-general.svg";break;case"alectryon-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/alectryon/alectryon-general.svg";break;case"almond-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/almond/almond-general.svg";break;case"alnus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/alnus/alnus-general.svg";break;case"amelanchier-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/amelanchier/amelanchier-general.svg";break;case"apple-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/apple/apple-general.svg";break;case"apple-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/apple/apple-weeping.svg";break;case"apricot-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/apricot/apricot-general.svg";break;case"araucaria-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/araucaria/araucaria-general.svg";break;case"arbutus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/arbutus/arbutus-general.svg";break;case"astelia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/astelia/astelia-general.svg";break;case"avocado-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/avocado/avocado-general.svg";break;case"azara-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/azara/azara-general.svg";break;case"banksia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/banksia/banksia-general.svg";break;case"beilschmiedia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/beilschmiedia/beilschmiedia-general.svg";break;case"berberis-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/berberis/berberis-general.svg";break;case"betula-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/betula/betula-general.svg";break;case"betula-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/betula/betula-weeping.svg";break;case"betula-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/betula/betula-upright.svg";break;case"brachychiton-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/brachychiton/brachychiton-general.svg";break;case"brachychiton-large":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/brachychiton/brachychiton-large.svg";break;case"buxus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/buxus/buxus-general.svg";break;case"callistemon-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/callistemon/callistemon-general.svg";break;case"callistemon-large":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/callistemon/callistemon-large.svg";break;case"callistemon-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/callistemon/callistemon-weeping.svg";break;case"camellia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/camellia/camellia-general.svg";break;case"carpinus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/carpinus/carpinus-general.svg";break;case"carpinus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/carpinus/carpinus-upright.svg";break;case"carpodetus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/carpodetus/carpodetus-general.svg";break;case"cedrus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cedrus/cedrus-general.svg";break;case"cedrus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cedrus/cedrus-weeping.svg";break;case"cercis-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cercis/cercis-general.svg";break;case"cercis-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cercis/cercis-weeping.svg";break;case"cherry-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cherry/cherry-general.svg";break;case"citrus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/citrus/citrus-general.svg";break;case"cordyline-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cordyline/cordyline-general.svg";break;case"cornus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cornus/cornus-general.svg";break;case"cornus-shrub":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cornus/cornus-shrub.svg";break;case"cornus-tiered":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cornus/cornus-tiered.svg";break;case"cornus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cornus/cornus-weeping.svg";break;case"corokia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/corokia/corokia-general.svg";break;case"corymbia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/corymbia/corymbia-general.svg";break;case"cotinus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cotinus/cotinus-general.svg";break;case"cupressus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cupressus/cupressus-general.svg";break;case"cupressus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cupressus/cupressus-upright.svg";break;case"cyathea-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/cyathea/cyathea-general.svg";break;case"dicksonia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/dicksonia/dicksonia-general.svg";break;case"eucalyptus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/eucalyptus/eucalyptus-general.svg";break;case"fagus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fagus/fagus-general.svg";break;case"fagus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fagus/fagus-upright.svg";break;case"fagus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fagus/fagus-weeping.svg";break;case"feijoa-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/feijoa/feijoa-general.svg";break;case"fig-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fig/fig-general.svg";break;case"fraxinus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fraxinus/fraxinus-general.svg";break;case"fraxinus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fraxinus/fraxinus-upright.svg";break;case"fraxinus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fraxinus/fraxinus-weeping.svg";break;case"fraxinus-bushy":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fraxinus/fraxinus-bushy.svg";break;case"fuscospora-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/fuscospora/fuscospora-general.svg";break;case"ginkgo-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ginkgo/ginkgo-general.svg";break;case"ginkgo-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ginkgo/ginkgo-upright.svg";break;case"ginkgo-small":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ginkgo/ginkgo-small.svg";break;case"ginkgo-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ginkgo/ginkgo-weeping.svg";break;case"gleditsia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/gleditsia/gleditsia-general.svg";break;case"gleditsia-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/gleditsia/gleditsia-weeping.svg";break;case"griselinia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/griselinia/griselinia-general.svg";break;case"hoheria-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/hoheria/hoheria-general.svg";break;case"lagerstroemia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/lagerstroemia/lagerstroemia-general.svg";break;case"leptospermum-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/leptospermum/leptospermum-general.svg";break;case"liquidambar-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/liquidambar/liquidambar-general.svg";break;case"liquidambar-topiary":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/liquidambar/liquidambar-topiary.svg";break;case"liriodendron-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/liriodendron/liriodendron-general.svg";break;case"liriodendron-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/liriodendron/liriodendron-upright.svg";break;case"lophozonia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/lophozonia/lophozonia-general.svg";break;case"magnolia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/magnolia/magnolia-general.svg";break;case"magnolia-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/magnolia/magnolia-upright.svg";break;case"malus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/malus/malus-general.svg";break;case"malus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/malus/malus-upright.svg";break;case"malus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/malus/malus-weeping.svg";break;case"metrosideros-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/metrosideros/metrosideros-general.svg";break;case"michelia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/michelia/michelia-general.svg";break;case"nectarine-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/nectarine/nectarine-general.svg";break;case"nyssa-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/nyssa/nyssa-general.svg";break;case"nyssa-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/nyssa/nyssa-weeping.svg";break;case"olearia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/olearia/olearia-general.svg";break;case"olive-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/olive/olive-general.svg";break;case"peach-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/peach/peach-general.svg";break;case"pear-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pear/pear-general.svg";break;case"photinia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/photinia/photinia-general.svg";break;case"picea-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/picea/picea-general.svg";break;case"picea-tall":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/picea/picea-tall.svg";break;case"pittosporum-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pittosporum/pittosporum-general.svg";break;case"pittosporum-low-growing":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pittosporum/pittosporum-low-growing.svg";break;case"platanus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/platanus/platanus-general.svg";break;case"platanus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/platanus/platanus-upright.svg";break;case"plum-general":
t.src="https://files.leafland.co.nz/images/icons/tree-shapes/plum/plum-general.svg";break;case"podocarpus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/podocarpus/podocarpus-general.svg";break;case"prunus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/prunus/prunus-general.svg";break;case"prunus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/prunus/prunus-weeping.svg";break;case"prunus-bushy":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/prunus/prunus-bushy.svg";break;case"prunus-pillar":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/prunus/prunus-pillar.svg";break;case"pseudopanax-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pseudopanax/pseudopanax-general.svg";break;case"pseudopanax-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pseudopanax/pseudopanax-upright.svg";break;case"pyrus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pyrus/pyrus-general.svg";break;case"pyrus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pyrus/pyrus-weeping.svg";break;case"pyrus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/pyrus/pyrus-upright.svg";break;case"quercus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/quercus/quercus-general.svg";break;case"quercus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/quercus/quercus-upright.svg";break;case"quince-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/quince/quince-general.svg";break;case"robinia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/robinia/robinia-general.svg";break;case"robinia-topiary":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/robinia/robinia-topiary.svg";break;case"salix-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/salix/salix-general.svg";break;case"salix-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/salix/salix-weeping.svg";break;case"sequoia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/sequoia/sequoia-general.svg";break;case"sophora-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/sophora/sophora-general.svg";break;case"sophora-bushy":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/sophora/sophora-bushy.svg";break;case"sophora-low-bushy":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/sophora/sophora-low-bushy.svg";break;case"tilia-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/tilia/tilia-general.svg";break;case"tilia-tall-graceful":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/tilia/tilia-tall-graceful.svg";break;case"ulmus-general":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ulmus/ulmus-general.svg";break;case"ulmus-horizontal":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ulmus/ulmus-horizontal.svg";break;case"ulmus-weeping":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ulmus/ulmus-weeping.svg";break;case"ulmus-small":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ulmus/ulmus-small.svg";break;case"ulmus-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ulmus/ulmus-upright.svg";break;case"ulmus-semi-upright":t.src="https://files.leafland.co.nz/images/icons/tree-shapes/ulmus/ulmus-semi-upright.svg"}let s=document.createElement("div");s.id="height-div";let r=document.createElement("span");r.id="height-span",r.textContent=e[0].height;let i=document.createElement("span");i.textContent="↑",i.classList.add("arrow"),i.id="arrow-up";let n=document.createElement("span");n.textContent="↓",n.classList.add("arrow"),n.id="arrow-down",s.appendChild(i),s.appendChild(r),s.appendChild(n);let l=document.createElement("div");l.id="width-div";let c=document.createElement("span");c.id="width-span",c.textContent=e[0].width;let o=document.createElement("span");o.textContent="←",o.classList.add("arrow"),o.id="arrow-left";let d=document.createElement("span");d.textContent="→",d.classList.add("arrow"),d.id="arrow-right",l.appendChild(o),l.appendChild(c),l.appendChild(d),a.appendChild(t),a.appendChild(s),a.appendChild(l)}async function populateTreeAttributes(e){createTreeShape(e),createFoliageAttributes(e),createFlowerAttributes(e),createToleratesAttributes(e)}async function createRelatedTrees(e){let a=["uses","tolerates","winterFoliage","origin","types","floweringSeason","flowerColor","autumnColor","foliageColor","fruitingSeason"],t=await fetch("https://api.leafland.co.nz/default/get-product-data?type=tree-finder").then(e=>e.json()).then(e=>e).catch(e=>{}),s=await fetch("https://api.leafland.co.nz/default/get-image-data").then(e=>e.json()).then(e=>e).catch(e=>{});if(a.length>0){let r=[];for(let s=0;s<t.length&&!(r.length>11);s++)if(t[s].botanicalName!==e[0].botanicalName){let i=!1;for(let r=0;r<a.length;r++){if(e[0][a[r]]!==t[s][a[r]]){i=!1;break}i=!0}i&&r.push(t[s])}if(0===r.length){let a="";for(i=0;i<t.length&&!(r.length>11);i++)t[i].botanicalName!==e[0].botanicalName&&(-1===e[0].botanicalName.split(" ")[1].search("'")&&"x"!==e[0].botanicalName.split(" ")[1]?(a=`${e[0].botanicalName.split(" ")[0]} ${e[0].botanicalName.split(" ")[1]}`,-1!==a.search(t[i].botanicalName.split(" ")[0])&&-1!==a.search(t[i].botanicalName.split(" ")[1])&&r.push(t[i])):(a=`${e[0].botanicalName.split(" ")[0]}`,-1!==a.search(t[i].botanicalName.split(" ")[0])&&r.push(t[i])))}if(r.length>0){for(let e=0;e<r.length;e++){let a=[];for(let t=0;t<s.length;t++)if(s[t].split("/",4)[3]===`${r[e].url}.jpg`||s[t].split("/",4)[3]===`${r[e].url}.jpeg`){a.push(s[t]);break}if(r.length>0&&a.length>0){let t=document.createElement("div");t.classList.add("related-tree");let s=document.createElement("div");s.classList.add("tree-image");let i=document.createElement("div");i.classList.add("tree-content");let n=document.createElement("div"),l=document.createElement("h2"),c=document.createElement("h3");l.textContent=r[e].botanicalName,n.appendChild(l),""!==r[e].commonName&&(c.textContent=r[e].commonName,n.appendChild(c));let o=document.createElement("img");o.src=`https://ik.imagekit.io/leafland/${a[0]}?tr=w-500,q-75,pr-true,f-auto`;let d=document.createElement("a");d.textContent="View Tree",d.classList.add("button"),d.classList.add("tree-link"),d.href=`/trees/${r[e].url}`,i.appendChild(n),i.appendChild(d),s.appendChild(o),t.appendChild(s),t.appendChild(i),t.style.setProperty("--animation-order",`${e%r.length}`),t.classList.add("related-tree-loaded"),relatedTreesSection.appendChild(t)}}relatedTreesSection.style.setProperty("display","grid"),relateTreesHeading.style.setProperty("display","inline-block")}else relateTreesHeading.style.setProperty("display","none"),relatedTreesSection.style.setProperty("display","none")}else relateTreesHeading.style.setProperty("display","none"),relatedTreesSection.style.setProperty("display","none")}function addTreeToLocalStorage(){productTrees=JSON.parse(localStorage.getItem("trees"));let e=0,a=0;for(let e=0;e<grades.length;e++)if(grades[e].grade===gradeSizeSelect.value)for(let a=0;a<grades[e].heights.length;a++)if(grades[e].heights[a].averageHeight===heightSelect.value)for(let t=0;t<grades[e].heights[a].standardHeights.length;t++)grades[e].heights[a].standardHeights[t]===standardHeightSelect.value&&(retailPrice=`${grades[e].heights[a].standardHeights[t].retailPrice}.00`,wholesalePrice=`${grades[e].heights[a].standardHeights[t].wholesalePrice}.00`);if(0===productTrees.length)productTrees.push({botanicalName:treeBotanicalName.textContent,commonName:treeCommonName.textContent,url:window.location.pathname,grade:gradeSizeSelect.value,averageHeight:heightSelect.value,quantity:parseInt(treeQuantity.value,10),maxQuantity:treeQuantity.max,standardHeight:standardHeightSelect.value.split("?q=")[0],retailPrice:document.querySelector("#retail-price").textContent.split(".00+GST")[0],wholesalePrice:document.querySelector("#wholesale-price").textContent.split(".00+GST")[0]});else for(let e=0;e<productTrees.length+1;e++){if(e===productTrees.length){productTrees.push({botanicalName:treeBotanicalName.textContent,commonName:treeCommonName.textContent,url:window.location.pathname,grade:gradeSizeSelect.value,averageHeight:heightSelect.value,quantity:parseInt(treeQuantity.value,10),maxQuantity:treeQuantity.max,standardHeight:standardHeightSelect.value.split("?q=")[0],retailPrice:document.querySelector("#retail-price").textContent.split(".00+GST")[0],wholesalePrice:document.querySelector("#wholesale-price").textContent.split(".00+GST")[0]});break}if(productTrees[e].quantity=parseInt(productTrees[e].quantity,10),productTrees[e].botanicalName===treeBotanicalName.textContent&&productTrees[e].grade===gradeSizeSelect.value&&productTrees[e].averageHeight===heightSelect.value&&productTrees[e].standardHeight===standardHeightSelect.value.split("?q=")[0]){productTrees[e].quantity+=parseInt(treeQuantity.value,10),productTrees[e].quantity>productTrees[e].maxQuantity&&(productTrees[e].quantity=productTrees[e].maxQuantity,maximumQuantityReached=!0);break}}productTrees.forEach(t=>{e+=t.quantity*parseInt(t.retailPrice.slice(1),10),a+=t.quantity*parseInt(t.wholesalePrice.slice(1),10)}),localStorage.setItem("trees",JSON.stringify(productTrees)),localStorage.setItem("totalRetailCost",JSON.stringify(e)),localStorage.setItem("totalWholesaleCost",JSON.stringify(a))}function addEventListeners(){window.addEventListener("storage",function(e){"trees"===e.key&&(productTrees=JSON.parse(localStorage.getItem(e.key)))}),addToOrderButton.addEventListener("click",()=>{addTreeToLocalStorage(),window.dispatchEvent(productAdded),maximumQuantityReached?(document.querySelector("#success-message-text").innerHTML="You tried adding more trees than we have in stock. Order quantity has been set to the maximum quantity.",maximumQuantityReached=!1):document.querySelector("#success-message-text").innerHTML=`${quantity.value}<span class="lowercase">x</span> ${treeBotanicalName.textContent} ${""!==treeCommonName.textContent?'(<span class="accent-color">'+treeCommonName.textContent+"</span>)":""} ${gradeSizeSelect.value} added to order.`,successMessage.style.setProperty("opacity","1"),successMessage.style.setProperty("visibility","visible"),successMessage.style.setProperty("z-index","10"),setTimeout(()=>{successMessage.style.setProperty("opacity","0"),successMessage.style.setProperty("visibility","hidden"),successMessage.style.setProperty("z-index","-1")},4e3)}),gradeSizeSelect.addEventListener("change",e=>{stockValuesDiv.innerHTML="",treeQuantity.value=1;for(let a=0;a<grades.length;a++)if(grades[a].grade===e.target.value.split("-0")[0]){heightSelect.innerHTML="",standardHeightSelect.innerHTML="";let e=0;for(let e=0;e<grades[a].heights.length;e++){let t=document.createElement("option");""!==grades[a].heights[e].averageHeight?(t.value=grades[a].heights[e].averageHeight,t.textContent=`${"n/a"===grades[a].heights[e].averageHeight.toLowerCase()?grades[a].heights[e].averageHeight:grades[a].heights[e].averageHeight+"m"}`):(t.value="N/A",t.textContent="N/A"),heightSelect.appendChild(t)}let t=!1;for(let s=0;s<grades[a].heights[0].standardHeights.length;s++){let r=document.createElement("option");""!==grades[a].heights[0].standardHeights[s].standardHeight.trim()&&"bushy"!==grades[a].heights[0].standardHeights[s].standardHeight.toLowerCase().trim()&&"l/w"!==grades[a].heights[0].standardHeights[s].standardHeight.toLowerCase().trim()&&"lw"!==grades[a].heights[0].standardHeights[s].standardHeight.toLowerCase().trim()&&"ct"!==grades[a].heights[0].standardHeights[s].standardHeight.toLowerCase().trim()?(r.value=`${grades[a].heights[0].standardHeights[s].standardHeight}?q=${grades[a].heights[0].standardHeights[s].quantity}`,null!==grades[a].heights[0].standardHeights[s].standardHeight.match(/\d+/g)?r.textContent=grades[a].heights[0].standardHeights[s].standardHeight+"m":r.textContent=grades[a].heights[0].standardHeights[s].standardHeight,standardHeightSelect.appendChild(r)):"column"!==grades[a].heights[0].standardHeights[s].standardHeight.toLowerCase().trim()&&(0===s&&(t=!0),e+=grades[a].heights[0].standardHeights[s].quantity)}let s=document.createElement("option");s.value=`None?q=${e}`,s.textContent="None",standardHeightSelect.appendChild(s);let r=0;r=t?e:grades[a].heights[0].standardHeights[0].quantity;let i=document.createElement("p");i.innerHTML=`<span class="stock-value-title">Quantity in stock:</span> <span class="quantity accent-color">${r}</span>`;let n=document.createElement("p");n.innerHTML=`<span class="stock-value-title">Price per tree:</span> <span id="wholesale-price" class="accent-color">${grades[a].heights[0].standardHeights[0].wholesalePrice}.00+GST (Wholesale)</span> <span id="retail-price" class="accent-color">${grades[a].heights[0].standardHeights[0].retailPrice}.00+GST (Retail)</span>`,stockValuesDiv.appendChild(i),stockValuesDiv.appendChild(n),0===r?(addToOrderButton.disabled=!0,treeQuantity.disabled=!0,treeQuantity.value=1):(addToOrderButton.disabled=!1,treeQuantity.disabled=!1,treeQuantity.max=r,treeQuantity.onchange=function(){this.value<1?this.value=1:this.value>r&&(this.value=r)});break}}),heightSelect.addEventListener("change",e=>{stockValuesDiv.innerHTML="",standardHeightSelect.innerHTML="",treeQuantity.value=1;for(let a=0;a<grades.length;a++)if(grades[a].grade===gradeSizeSelect.value){let t=0;for(let s=0;s<grades[a].heights.length;s++)if(grades[a].heights[s].averageHeight===e.target.value){let e=!1;for(let r=0;r<grades[a].heights[s].standardHeights.length;r++){let i=document.createElement("option");""!==grades[a].heights[s].standardHeights[r].standardHeight.trim()&&"bushy"!==grades[a].heights[s].standardHeights[r].standardHeight.toLowerCase().trim()&&"l/w"!==grades[a].heights[s].standardHeights[r].standardHeight.toLowerCase().trim()&&"lw"!==grades[a].heights[s].standardHeights[r].standardHeight.toLowerCase().trim()&&"ct"!==grades[a].heights[s].standardHeights[r].standardHeight.toLowerCase().trim()?(i.value=`${grades[a].heights[s].standardHeights[r].standardHeight}?q=${grades[a].heights[s].standardHeights[r].quantity}`,null!==grades[a].heights[s].standardHeights[r].standardHeight.match(/\d+/g)?i.textContent=grades[a].heights[s].standardHeights[r].standardHeight+"m":i.textContent=grades[a].heights[s].standardHeights[r].standardHeight,standardHeightSelect.appendChild(i)):"column"!==grades[a].heights[s].standardHeights[r].standardHeight.toLowerCase().trim()&&(0===r&&(e=!0,i=document.createElement("option"),standardHeightSelect.appendChild(i),i.textContent="None"),t+=grades[a].heights[s].standardHeights[r].quantity,i.value=`None?q=${t}`)}let r=0;r=e?t:grades[a].heights[s].standardHeights[0].quantity;let i=document.createElement("p");i.innerHTML=`<span class="stock-value-title">Quantity in stock:</span> <span class="quantity accent-color">${r}</span>`;let n=document.createElement("p");n.innerHTML=`<span class="stock-value-title">Price per tree:</span> <span id="wholesale-price" class="accent-color">${grades[a].heights[s].standardHeights[0].wholesalePrice}.00+GST (Wholesale)</span> <span id="retail-price" class="accent-color">${grades[a].heights[s].standardHeights[0].retailPrice}.00+GST (Retail)</span>`,stockValuesDiv.appendChild(i),stockValuesDiv.appendChild(n),0===r?(addToOrderButton.disabled=!0,treeQuantity.disabled=!0,treeQuantity.value=1):(addToOrderButton.disabled=!1,treeQuantity.disabled=!1,treeQuantity.max=r,treeQuantity.onchange=function(){this.value<1?this.value=1:this.value>r&&(this.value=r)});break}break}}),standardHeightSelect.addEventListener("change",e=>{stockValuesDiv.innerHTML="",treeQuantity.value=1;for(let a=0;a<grades.length;a++)if(grades[a].grade===gradeSizeSelect.value){for(let t=0;t<grades[a].heights.length;t++)if(grades[a].heights[t].averageHeight===heightSelect.value){for(let s=0;s<grades[a].heights[t].standardHeights.length+1;s++){if(grades[a].heights[t].standardHeights[s].standardHeight===e.target.value.split("?q=")[0]){let e=document.createElement("p");e.innerHTML=`<span class="stock-value-title">Quantity in stock:</span> <span class="quantity accent-color">${grades[a].heights[t].standardHeights[s].quantity}</span>`;let r=document.createElement("p");r.innerHTML=`<span class="stock-value-title">Price per tree:</span> <span id="wholesale-price" class="accent-color">${grades[a].heights[t].standardHeights[s].wholesalePrice}.00+GST (Wholesale)</span> <span id="retail-price" class="accent-color">${grades[a].heights[t].standardHeights[s].retailPrice}.00+GST (Retail)</span>`,stockValuesDiv.appendChild(e),stockValuesDiv.appendChild(r),0===grades[a].heights[t].standardHeights[s].quantity?(addToOrderButton.disabled=!0,treeQuantity.disabled=!0,treeQuantity.value=1):(addToOrderButton.disabled=!1,treeQuantity.disabled=!1,treeQuantity.max=grades[a].heights[t].standardHeights[s].quantity,treeQuantity.onchange=function(){this.value<1?this.value=1:this.value>grades[a].heights[t].standardHeights[s].quantity&&(this.value=grades[a].heights[t].standardHeights[s].quantity)});break}if("None"===e.target.value.split("?q=")[0]){let r=document.createElement("p");r.innerHTML=`<span class="stock-value-title">Quantity in stock:</span> <span class="quantity accent-color">${e.target.value.split("?q=")[1]}</span>`;let i=document.createElement("p");i.innerHTML=`<span class="stock-value-title">Price per tree:</span> <span id="wholesale-price" class="accent-color">${grades[a].heights[t].standardHeights[s].wholesalePrice}.00+GST (Wholesale)</span> <span id="retail-price" class="accent-color">${grades[a].heights[t].standardHeights[s].retailPrice}.00+GST (Retail)</span>`,stockValuesDiv.appendChild(r),stockValuesDiv.appendChild(i),0===parseInt(e.target.value.split("?q=")[1])?(addToOrderButton.disabled=!0,treeQuantity.disabled=!0,treeQuantity.value=1):(addToOrderButton.disabled=!1,treeQuantity.disabled=!1);break}}break}break}})}let colorSection=document.querySelector("#color-section"),relatedTreesSection=document.querySelector("#related-trees"),relateTreesHeading=document.querySelector("#related-trees-heading"),successMessage=document.querySelector("#success-message"),gradeSizeSelect=document.querySelector("#grade-size-select"),heightSelect=document.querySelector("#height-select"),standardHeightSelect=document.querySelector("#standard-height-select"),gradeSizesDiv=document.querySelector("#grade-sizes"),stockValuesDiv=document.querySelector("#stock-values"),treeQuantity=document.querySelector("#quantity"),treeBotanicalName=document.querySelector(".tree-botanical-name"),treeCommonName=document.querySelector(".tree-common-name"),images=document.querySelector(".images"),mainImage=document.querySelector("#main-image-inner"),addToOrderButton=document.querySelector("#add-product"),treeAttributes=document.querySelector("#tree-attributes"),imageLightbox=document.querySelector("#image-lightbox"),imageLightboxInner=document.querySelector("#image-lightbox-div"),imageLightBoxClose=document.querySelector("#image-lightbox-close"),comingOn=document.querySelector("#coming-on"),imageLeftButton=document.querySelector("#image-left-button"),imageRightButton=document.querySelector("#image-right-button"),imagePosition=0,productTreeData=[],productImageData=[],productStockData=[],gradeImages=[],maximumQuantityReached=!1,productTrees=JSON.parse(localStorage.getItem("trees"));const productAdded=new Event("productAdded");let grades=[];""===treeCommonName.textContent&&treeCommonName.style.setProperty("display","none"),window.addEventListener("loginUpdated",()=>{(async function(){addEventListeners(),await getProductTreeData(),productTreeData.length>0&&(await populateTreeAttributes(productTreeData),await getProductImages(),await createTreeImages(productImageData),await getProductStockData(),await createStockValues(grades),await createRelatedTrees(productTreeData),document.body.classList.add("page-loaded"))})()});