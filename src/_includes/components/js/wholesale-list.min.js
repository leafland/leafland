async function displayData(e,t,a){if(e.length<1)stockDataDiv.innerHTML='<h2 class="message">No results found</h2>',resultTotals.innerHTML="Showing 0 to 0 of 0 results",nextButton.disabled=!0,prevButton.disabled=!0;else{stockDataDiv.innerHTML="";let l=document.createElement("table");for(let n=t;n<a+1&&!(n>e.length-1);n++){if(n===t){let e=document.createElement("tr");heading.forEach(t=>{let a=document.createElement("th");a.textContent=t,e.appendChild(a)}),l.appendChild(e)}let a=document.createElement("tr");for(let t=0;t<10;t++){let l=document.createElement("td");l.textContent=e[n][t],8===t&&(parseInt(e[n][8],10)<=0?l.classList.add("ready-red"):parseInt(e[n][8],10)<10?l.classList.add("ready-yellow"):l.classList.add("ready-green")),a.appendChild(l)}l.appendChild(a)}stockDataDiv.appendChild(l),resultTotals.innerHTML=`Showing ${t+1} to ${a>e.length?e.length:a+1} of ${e.length} results`}prevButton.disabled=0===t,0!==e.length&&(a>=e.length-1?nextButton.disabled=!0:nextButton.disabled=!1)}function searchWholesaleData(e){e.length>0&&(filteredData=[],stockData.forEach(t=>{null!=t[0]&&(t[0].toLowerCase().includes(e.toLowerCase())||t[1].toLowerCase().includes(e.toLowerCase()))&&filteredData.push(t)}),stockDataDiv.innerHTML="",resetStartEnd(),displayData(filteredData,wholesaleStart,wholesaleEnd))}function resetStartEnd(){wholesaleStart=0,wholesaleEnd=24}let wholesaleSearchInput=document.querySelector(".search"),nextButton=document.querySelector("#next"),prevButton=document.querySelector("#prev"),resultTotals=document.querySelector("#result-totals"),stockDataDiv=document.querySelector("#stock-data");var stockData=[];let filteredData=[],wholesaleStart=0,wholesaleEnd=24,heading=["BOTANICAL NAME","COMMON NAME","GRADE","$R","$W-10%","$W-20%","HEIGHT (m)","STANDARD (m)","READY","COMING ON"];window.addEventListener("loginUpdated",()=>{(async function(){stockData=await fetch("https://api.leafland.co.nz/default/get-stock-data-file?type=list").then(e=>e.json()).catch(e=>{}),await displayData(stockData,wholesaleStart,wholesaleEnd),wholesaleSearchInput.removeAttribute("disabled"),wholesaleSearchInput.addEventListener("input",e=>{e.target.value.length<=0?displayData(stockData,wholesaleStart,wholesaleEnd):searchRetailData(e.target.value)}),document.body.classList.add("page-loaded")})()}),nextButton.addEventListener("click",()=>{wholesaleStart+=25,wholesaleEnd+=25,filteredData.length>1&&wholesaleSearchInput.value.length>0?displayData(filteredData,wholesaleStart,wholesaleEnd):displayData(stockData,wholesaleStart,wholesaleEnd)}),prevButton.addEventListener("click",()=>{wholesaleStart-=25,wholesaleEnd-=25,(wholesaleStart<0||wholesaleEnd<0)&&resetStartEnd(),filteredData.length>1&&wholesaleSearchInput.value.length>0?displayData(filteredData,wholesaleStart,wholesaleEnd):displayData(stockData,wholesaleStart,wholesaleEnd)});