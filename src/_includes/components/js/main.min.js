let headerStockLink=document.querySelector("#header-stock-link"),menuStockLink=document.querySelector("#menu-stock-link"),loggedIn=!1;const orderSent=new Event("orderSent");"true"===sessionStorage.getItem("submittedOrder")?(history.scrollRestoration&&(history.scrollRestoration="manual"),sessionStorage.setItem("trees","[]"),window.dispatchEvent(orderSent),document.body.classList.add("order-sent-open"),document.querySelector("#close-order-sent").addEventListener("click",()=>{document.body.classList.remove("order-sent-open")}),sessionStorage.setItem("submittedOrder","false")):document.body.classList.remove("order-sent-open"),null===sessionStorage.getItem("trees")&&sessionStorage.setItem("trees","[]"),window.addEventListener("loginUpdated",()=>{"false"===localStorage.getItem("loggedIn")||null===localStorage.getItem("loggedIn")?(loggedIn=!1,localStorage.setItem("loggedIn","false")):(loggedIn=!0,localStorage.setItem("loggedIn","true")),loggedIn?(headerStockLink.href="/wholesale-stock-list/",menuStockLink.href="/wholesale-stock-list/",document.body.classList.add("loggedIn")):(headerStockLink.href="/retail-stock-list/",menuStockLink.href="/retail-stock-list/",document.body.classList.remove("loggedIn"))}),window.addEventListener("storage",()=>{loggedIn="true"===localStorage.getItem("loggedIn"),loggedIn?(headerStockLink.href="/wholesale-stock-list/",menuStockLink.href="/wholesale-stock-list/",document.body.classList.add("loggedIn")):(headerStockLink.href="/retail-stock-list/",menuStockLink.href="/retail-stock-list/",document.body.classList.remove("loggedIn"))}),document.querySelector("#subscribe-form").addEventListener("submit",event=>{event.preventDefault(),document.querySelector("#subscribe").textContent="Subscribing...",document.querySelector("#subscribe").style.setProperty("background","var(--primary-text)"),document.querySelector("#subscribe").style.setProperty("color","var(--secondary-background)"),document.querySelector("#subscribe").style.setProperty("cursor","default");const{subscriberFirstName:subscriberFirstName,subscriberEmail:subscriberEmail}=event.target,endpoint="https://api.leafland.co.nz/default/add-new-subscriber",body=JSON.stringify({subscriberFirstName:subscriberFirstName.value,subscriberEmail:subscriberEmail.value}),requestOptions={method:"POST",body:body};!async function(){await fetch(endpoint,requestOptions).then(response=>response.json()).then(data=>data).catch(error=>{}),document.querySelector("#email-signup").style.setProperty("grid-template-columns","1fr"),document.querySelector("#email-signup").innerHTML='<p class="paragraph-title">Thanks for subscribing!</p>'}()});