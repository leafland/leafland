let treeWrapper=document.querySelector("#tree-wrapper"),content=document.querySelector("#content"),treeFinderStart=0,treeFinderEnd=23,imageDataSubset=[],inputsArray=document.querySelectorAll(".filter-input"),treeFilter=[],heightsArray=[],widthsArray=[],assistantQuestions=document.querySelector("#assistant-questions"),assistantResults=document.querySelector("#assistant-results"),filterSettings={empty:!0,uses:[],tolerates:[],types:[],winterFoliage:[],origin:[],soilType:[],sunAndShade:[],height:[],width:[],fruitingSeason:[],floweringSeason:[],flowerColour:[],autumnColour:[],foliageColour:[]};function optionsCheckedDisplay(){document.querySelectorAll(".options-group-option").forEach(option=>{option.addEventListener("click",()=>{!0===option.querySelector(".filter-input").checked?(option.querySelector(".filter-input").checked=!1,option.classList.remove("option-selected")):(option.querySelector(".filter-input").checked=!0,option.classList.add("option-selected"))})})}function addFilterInputs(groupName){document.querySelector(`#${groupName}-options-group`).querySelectorAll(".filter-input").forEach(input=>{!0===input.checked&&(filterSettings[groupName].push(input.value),filterSettings.empty=!1)})}document.querySelector("#start-assistant").addEventListener("click",()=>{document.querySelector("#assistant-start-buttons").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>Would you like a native or exotic tree?</h2>",document.querySelector("#assistant-origin").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#origin-next").addEventListener("click",()=>{addFilterInputs("origin"),document.querySelector("#assistant-origin").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>Would type of winter foliage should your tree have?</h2>",document.querySelector("#assistant-winterFoliage").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#winterFoliage-next").addEventListener("click",()=>{addFilterInputs("winterFoliage"),document.querySelector("#assistant-winterFoliage").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What climate condition(s) does the planting site have?</h2>",document.querySelector("#assistant-tolerates").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#tolerates-next").addEventListener("click",()=>{addFilterInputs("tolerates"),document.querySelector("#assistant-tolerates").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What soil type(s) does the planting site have?</h2>",document.querySelector("#assistant-soilType").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#soilType-next").addEventListener("click",()=>{addFilterInputs("soilType"),document.querySelector("#assistant-soilType").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>How tall do you want the tree to grow?</h2><p>You can select multiple heights to see more tree options if you don't need the tree to grow to an exact height.</p>",document.querySelector("#assistant-height").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#height-next").addEventListener("click",()=>{addFilterInputs("height"),document.querySelector("#assistant-height").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>How wide do you want the tree to grow?</h2><p>You can select multiple widths to see more tree options if you don't need the tree to grow to an exact width.</p>",document.querySelector("#assistant-width").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#width-next").addEventListener("click",()=>{addFilterInputs("width"),document.querySelector("#assistant-width").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What specific uses do you have for the tree?</h2>",document.querySelector("#assistant-uses").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#uses-next").addEventListener("click",()=>{addFilterInputs("uses"),document.querySelector("#assistant-uses").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What types?</h2>",document.querySelector("#assistant-types").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#types-next").addEventListener("click",()=>{addFilterInputs("types"),document.querySelector("#assistant-types").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>How much sun does the planting site get?</h2>",document.querySelector("#assistant-sunAndShade").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#sunAndShade-next").addEventListener("click",()=>{addFilterInputs("sunAndShade"),document.querySelector("#assistant-sunAndShade").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>When do you want the tree to fruit?</h2>",document.querySelector("#assistant-fruitingSeason").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#fruitingSeason-next").addEventListener("click",()=>{addFilterInputs("fruitingSeason"),document.querySelector("#assistant-fruitingSeason").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>When do you want the tree to flower?</h2>",document.querySelector("#assistant-floweringSeason").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#floweringSeason-next").addEventListener("click",()=>{addFilterInputs("floweringSeason"),document.querySelector("#assistant-floweringSeason").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What colour flowers do you want the tree to have?</h2>",document.querySelector("#assistant-flowerColour").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#flowerColour-next").addEventListener("click",()=>{addFilterInputs("flowerColour"),document.querySelector("#assistant-flowerColour").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What autumn foliage colour do you want the tree to have?</h2>",document.querySelector("#assistant-autumnColour").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#autumnColour-next").addEventListener("click",()=>{addFilterInputs("autumnColour"),document.querySelector("#assistant-autumnColour").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>What foliage colour do you want the tree to have?</h2>",document.querySelector("#assistant-foliageColour").style.setProperty("display","grid"),optionsCheckedDisplay()}),document.querySelector("#foliageColour-next").addEventListener("click",()=>{addFilterInputs("foliageColour"),document.querySelector("#assistant-foliageColour").style.setProperty("display","none"),assistantQuestions.innerHTML="<h2>Here are tree options that could work for you.</h2>";let filteredTrees=treeData.filter(tree=>{let usesAdd=!1;if(0!==filterSettings.uses.length)for(let i=0;i<filterSettings.uses.length;i++){if("any"===filterSettings.uses[i]){usesAdd=!0;break}usesAdd=!!tree.uses.includes(filterSettings.uses[i])}else usesAdd=!0;let toleratesAdd=!1;if(0!==filterSettings.tolerates.length)for(let i=0;i<filterSettings.tolerates.length;i++){if("any"===filterSettings.tolerates[i]){toleratesAdd=!0;break}toleratesAdd=!!tree.tolerates.includes(filterSettings.tolerates[i])}else toleratesAdd=!0;let typesAdd=!1;if(0!==filterSettings.types.length)for(let i=0;i<filterSettings.types.length;i++){if("any"===filterSettings.types[i]){typesAdd=!0;break}typesAdd=!!tree.types.includes(filterSettings.types[i])}else typesAdd=!0;let winterFoliageAdd=!1;if(0!==filterSettings.winterFoliage.length)for(let i=0;i<filterSettings.winterFoliage.length;i++){if("any"===filterSettings.winterFoliage[i]){winterFoliageAdd=!0;break}winterFoliageAdd=!!tree.winterFoliage.includes(filterSettings.winterFoliage[i])}else winterFoliageAdd=!0;let originAdd=!1;if(0!==filterSettings.origin.length)for(let i=0;i<filterSettings.origin.length;i++){if("any"===filterSettings.origin[i]){originAdd=!0;break}originAdd=!!tree.origin.includes(filterSettings.origin[i])}else originAdd=!0;let soilTypeAdd=!1;if(0!==filterSettings.soilType.length)for(let i=0;i<filterSettings.soilType.length;i++){if("any"===filterSettings.soilType[i]){soilTypeAdd=!0;break}soilTypeAdd=!!tree.soilType.includes(filterSettings.soilType[i])}else soilTypeAdd=!0;let sunAndShadeAdd=!1;if(0!==filterSettings.sunAndShade.length)for(let i=0;i<filterSettings.sunAndShade.length;i++){if("any"===filterSettings.sunAndShade[i]){sunAndShadeAdd=!0;break}sunAndShadeAdd=!!tree.sunShade.includes(filterSettings.sunAndShade[i])}else sunAndShadeAdd=!0;let heightAdd=!1;if(0!==filterSettings.height.length)for(let i=0;i<filterSettings.height.length;i++){if("any"===filterSettings.height[i]){heightAdd=!0;break}if(tree.height.includes(filterSettings.height[i])){heightAdd=!0;break}heightAdd=!1}else heightAdd=!0;let widthAdd=!1;if(0!==filterSettings.width.length)for(let i=0;i<filterSettings.width.length;i++){if("any"===filterSettings.width[i]){widthAdd=!0;break}if(tree.width.includes(filterSettings.width[i])){widthAdd=!0;break}widthAdd=!1}else widthAdd=!0;let fruitingSeasonAdd=!1;if(0!==filterSettings.fruitingSeason.length)for(let i=0;i<filterSettings.fruitingSeason.length;i++){if("any"===filterSettings.fruitingSeason[i]){fruitingSeasonAdd=!0;break}fruitingSeasonAdd=""!==tree.fruit[filterSettings.fruitingSeason[i]]}else fruitingSeasonAdd=!0;let floweringSeasonAdd=!1;if(0!==filterSettings.floweringSeason.length)for(let i=0;i<filterSettings.floweringSeason.length;i++){if("any"===filterSettings.floweringSeason[i]){floweringSeasonAdd=!0;break}floweringSeasonAdd=""!==tree.flowers[filterSettings.floweringSeason[i]]}else floweringSeasonAdd=!0;let flowerColourAdd=!1;if(0!==filterSettings.flowerColour.length)for(let i=0;i<filterSettings.flowerColour.length;i++){if("any"===filterSettings.flowerColour[i]){flowerColourAdd=!0;break}flowerColourAdd=!!(tree.flowers.summer.includes(filterSettings.flowerColour[i])||tree.flowers.autumn.includes(filterSettings.flowerColour[i])||tree.flowers.winter.includes(filterSettings.flowerColour[i])||tree.flowers.spring.includes(filterSettings.flowerColour[i]))}else flowerColourAdd=!0;let autumnColourAdd=!1;if(0!==filterSettings.autumnColour.length)for(let i=0;i<filterSettings.autumnColour.length;i++){if("any"===filterSettings.autumnColour[i]){autumnColourAdd=!0;break}autumnColourAdd=!!tree.foliage.autumn.includes(filterSettings.autumnColour[i])}else autumnColourAdd=!0;let foliageColourAdd=!1;if(0!==filterSettings.foliageColour.length)for(let i=0;i<filterSettings.foliageColour.length;i++){if("any"===filterSettings.foliageColour[i]){foliageColourAdd=!0;break}foliageColourAdd=!!(tree.foliage.summer.includes(filterSettings.foliageColour[i])||tree.foliage.winter.includes(filterSettings.foliageColour[i])||tree.foliage.spring.includes(filterSettings.foliageColour[i]))}else foliageColourAdd=!0;return usesAdd&&toleratesAdd&&typesAdd&&winterFoliageAdd&&originAdd&&soilTypeAdd&&sunAndShadeAdd&&heightAdd&&widthAdd&fruitingSeasonAdd&&floweringSeasonAdd&&flowerColourAdd&&autumnColourAdd&&foliageColourAdd});assistantResults.style.setProperty("display","grid");for(let i=0;i<filteredTrees.length;i++)if(void 0!==filteredTrees[i]&&null!==filteredTrees[i]){let treeUrl=document.createElement("a");treeUrl.href=`/trees/${filteredTrees[i].url}/`,treeUrl.classList.add("tree-item");let treeTitle=document.createElement("h2"),treeSubtitle=document.createElement("h3"),titleContainer=document.createElement("div");titleContainer.classList.add("title-container"),treeTitle.innerHTML=`${filteredTrees[i].fullName}`,treeSubtitle.textContent=`${filteredTrees[i].commonName}`,titleContainer.appendChild(treeTitle),titleContainer.appendChild(treeSubtitle);let treeImage=document.createElement("img");treeImage.src=`https://leafland.co.nz/cdn-cgi/image/format=auto,metadata=none,quality=75,width=150/https://files.leafland.co.nz/${filteredTrees[i].mainImage}`,treeImage.width="150",treeImage.height="150",treeImage.loading="lazy",treeImage.alt=filteredTrees[i].url.replace(/-/g," "),treeUrl.appendChild(treeImage),treeUrl.appendChild(titleContainer),assistantResults.appendChild(treeUrl)}});