async function getTopTreesData(){topTreesData=await fetch(`https://api.leafland.co.nz/default/get-product-data?type=top-trees&topTrees=${document.body.dataset.id}`).then(e=>e.json()).then(e=>e).catch(e=>{})}async function getTopTreesImages(){topTreesImages=await fetch("https://api.leafland.co.nz/default/get-image-data").then(e=>e.json()).then(e=>e).catch(e=>{})}async function populatePage(e){treeWrapper.innerHTML="";for(let t=0;t<e.length;t++)if(void 0!==e[t]&&null!==e[t]){let a=document.createElement("div");a.classList.add("tree-item");let n=document.createElement("a");n.href=`/trees/${e[t].url}/`,n.textContent="View Tree",n.classList.add("tree-link"),n.classList.add("button");let l=document.createElement("h2"),d=document.createElement("h3"),s=document.createElement("div");s.classList.add("title-link-box");let o=document.createElement("div");o.classList.add("title-container"),l.textContent=e[t].botanicalName,""!==e[t].commonName?(d.textContent=`${e[t].commonName}`,o.appendChild(l),o.appendChild(d)):o.appendChild(l),s.appendChild(o),s.appendChild(n);let r=document.createElement("div");if(r.classList.add("tree-image"),topTreesImages.length>0){let n=[];for(let a=0;a<topTreesImages.length;a++)topTreesImages[a].split("/",4)[3]!==`${e[t].url}.jpg`&&topTreesImages[a].split("/",4)[3]!==`${e[t].url}.jpeg`||n.push(topTreesImages[a]);if(n.length>0){let e=document.createElement("img");e.src=`https://ik.imagekit.io/leafland/${n[n.length-1]}?tr=w-500,q-75,pr-true,f-auto`,e.width="500",e.height="500",e.alt=n[n.length-1].substring(n[n.length-1].lastIndexOf("/")+1,n[n.length-1].lastIndexOf(".")).replace(/-/g," "),e.loading="lazy",r.appendChild(e),a.appendChild(r)}}a.appendChild(s),a.style.setProperty("--animation-order",`${t%12}`),a.classList.add("tree-item-loaded"),treeWrapper.appendChild(a)}}let treeWrapper=document.querySelector("#tree-wrapper"),topTreesData=[],topTreesImages=[];(async function(){await getTopTreesData(),await getTopTreesImages(),await populatePage(topTreesData),document.body.classList.add("page-loaded")})();